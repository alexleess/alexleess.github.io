{"version":3,"sources":["webpack:///./src/views/TopicDetail/NewReply.vue?8f8f","webpack:///./src/views/TopicDetail/NewReply.vue?1798","webpack:///./src/views/TopicDetail/NewReply.vue?3997","webpack:///./src/views/TopicDetail/NewReply.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","row","justify-center","value","persistent","max-width","fullscreen","lazy","transition","dark","color","icon","on","click","$event","$emit","_v","grid-list-md","wrap","xs12","sm6","md4","label","hint","persistent-hint","required","model","callback","$$v","content","expression","items","users","multiple","chips","at","flat","nativeOn","sendReply","staticRenderFns","Module","Object","lib","types","NewReplyvue_type_script_lang_ts_NewReply","_Vue","NewReply","_this","classCallCheck","createClass","key","_sendReply","asyncToGenerator","regenerator_default","a","mark","_callee","_context","prev","next","map","s","concat","join","newReply","stop","apply","arguments","get","replyAuthors","replies","v","author","loginname","topicAuthorName","toConsumableArray","inherits","vue_property_decorator","tslib_es6","State","state","topicDetail","Action","POST_NEW_REPLY","NewReplyvue_type_script_lang_ts_","TopicDetail_NewReplyvue_type_script_lang_ts_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0bb1fc.b6e1876d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-dialog',{attrs:{\"value\":_vm.value,\"persistent\":\"\",\"max-width\":\"500px\",\"fullscreen\":\"\",\"lazy\":\"\",\"transition\":\"dialog-bottom-transition\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.$emit('input', false)}}},[_c('v-icon',[_vm._v(\"close\")])],1),_c('v-toolbar-title',[_vm._v(\"添加评论\")])],1),_c('v-card-text',[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"评论\",\"hint\":\"添加评论吧\",\"persistent-hint\":\"\",\"required\":\"\"},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-autocomplete',{attrs:{\"items\":_vm.users,\"label\":\"@\",\"hint\":\"@当前主题涉及用户\",\"multiple\":\"\",\"chips\":\"\"},model:{value:(_vm.at),callback:function ($$v) {_vm.at=$$v},expression:\"at\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.$emit('input', false)}}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.sendReply($event)}}},[_vm._v(\"发送\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop } from 'vue-property-decorator';\nimport { namespace } from 'vuex-class';\nimport { TopicModule, topicActions } from '@/store/types';\nimport { TopicState, TopicNewReply } from '@/store/interface';\nimport { CNodeReply } from '@/interface';\nconst Module = namespace(TopicModule);\n\n@Component\nexport default class NewReply extends Vue {\n  @Prop({required: true})\n  private value!: boolean;\n  @Module.State((state: TopicState) => state.topicDetail ? state.topicDetail.replies : [])\n  private replies!: CNodeReply[];\n  @Module.State((state: TopicState) => state.topicDetail ? state.topicDetail.author.loginname : '')\n  private topicAuthorName!: string;\n  @Module.Action(topicActions.POST_NEW_REPLY)\n  private newReply!: TopicNewReply;\n  private content: string = '';\n  private at = [];\n  private get users() {\n    const replyAuthors = this.replies.map((v) => v.author.loginname);\n    return [this.topicAuthorName, ...replyAuthors];\n  }\n  private async sendReply() {\n    const at = this.at.map((s) => `@${s}`)\n    .join(' ');\n\n    await this.newReply(`${at} ${this.content}`);\n    this.$emit('input', false);\n    this.content = '';\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewReply.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewReply.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NewReply.vue?vue&type=template&id=8e79c776&\"\nimport script from \"./NewReply.vue?vue&type=script&lang=ts&\"\nexport * from \"./NewReply.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"NewReply.vue\"\nexport default component.exports"],"sourceRoot":""}