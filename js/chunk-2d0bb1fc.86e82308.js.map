{"version":3,"sources":["webpack:///./src/views/TopicDetail/NewReply.vue?312c","webpack:///./src/views/TopicDetail/NewReply.vue?1798","webpack:///./src/views/TopicDetail/NewReply.vue?3997","webpack:///./src/views/TopicDetail/NewReply.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","row","justify-center","value","full-width","persistent","max-width","fullscreen","lazy","transition","dark","color","icon","on","click","$event","$emit","_v","grid-list-md","wrap","xs12","sm6","md4","label","hint","persistent-hint","required","model","callback","$$v","content","expression","items","users","multiple","chips","at","flat","nativeOn","sendReply","staticRenderFns","Module","Object","lib","types","NewReplyvue_type_script_lang_ts_NewReply","_Vue","NewReply","_this","classCallCheck","createClass","key","_sendReply","asyncToGenerator","regenerator_default","a","mark","_callee","_context","prev","next","map","s","concat","join","newReply","stop","apply","arguments","get","replyAuthors","replies","v","author","loginname","topicAuthorName","toConsumableArray","inherits","vue_property_decorator","tslib_es6","State","state","topicDetail","Action","POST_NEW_REPLY","NewReplyvue_type_script_lang_ts_","TopicDetail_NewReplyvue_type_script_lang_ts_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,YAAsBE,OAAOC,IAAA,GAAAC,iBAAA,MAA8BJ,EAAA,YAAiBE,OAAOG,MAAAT,EAAAS,MAAAC,aAAA,GAAAC,WAAA,GAAAC,YAAA,QAAAC,WAAA,GAAAC,KAAA,GAAAC,WAAA,8BAAyIX,EAAA,UAAAA,EAAA,aAA+BE,OAAOU,KAAA,GAAAC,MAAA,aAA6Bb,EAAA,SAAcE,OAAOY,KAAA,IAAUC,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAsB,MAAA,gBAA4BlB,EAAA,UAAAJ,EAAAuB,GAAA,eAAAnB,EAAA,mBAAAJ,EAAAuB,GAAA,cAAAnB,EAAA,eAAAA,EAAA,eAAoHE,OAAOkB,eAAA,MAAmBpB,EAAA,YAAiBE,OAAOmB,KAAA,MAAWrB,EAAA,UAAeE,OAAOoB,KAAA,GAAAC,IAAA,GAAAC,IAAA,MAA6BxB,EAAA,gBAAqBE,OAAOuB,MAAA,KAAAC,KAAA,QAAAC,kBAAA,GAAAC,SAAA,IAA+DC,OAAQxB,MAAAT,EAAA,QAAAkC,SAAA,SAAAC,GAA6CnC,EAAAoC,QAAAD,GAAgBE,WAAA,cAAuB,GAAAjC,EAAA,UAAmBE,OAAOoB,KAAA,GAAAC,IAAA,MAAoBvB,EAAA,kBAAuBE,OAAOgC,MAAAtC,EAAAuC,MAAAV,MAAA,IAAAC,KAAA,YAAAU,SAAA,GAAAC,MAAA,IAA0ER,OAAQxB,MAAAT,EAAA,GAAAkC,SAAA,SAAAC,GAAwCnC,EAAA0C,GAAAP,GAAWE,WAAA,SAAkB,eAAAjC,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAAkEE,OAAOW,MAAA,gBAAA0B,KAAA,IAAkCC,UAAWxB,MAAA,SAAAC,GAAyBrB,EAAAsB,MAAA,gBAA4BtB,EAAAuB,GAAA,QAAAnB,EAAA,SAA6BE,OAAOW,MAAA,gBAAA0B,KAAA,IAAkCC,UAAWxB,MAAA,SAAAC,GAAyB,OAAArB,EAAA6C,UAAAxB,OAA+BrB,EAAAuB,GAAA,yBACn4CuB,8JCkDMC,EAASC,OAAAC,EAAA,KAAAD,CAAUE,EAAA,MAGzBC,EAAA,SAAAC,GADA,SAAAC,IAAA,IAAAC,EAAA,OAAAN,OAAAO,EAAA,KAAAP,CAAA/C,KAAAoD,kEAUUC,EAAAlB,QAAkB,GAClBkB,EAAAZ,MAXVY,EACA,OAAAN,OAAAQ,EAAA,KAAAR,CAAAK,IAAAI,IAAA,YAAAhD,MAAA,eAAAiD,EAAAV,OAAAW,EAAA,KAAAX,CAAAY,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAArB,EAAA,OAAAkB,EAAAC,EAAApC,KAAA,SAAAuC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAgBUxB,EAAKzC,KAAKyC,GAAGyB,IAAI,SAACC,GAAD,UAAAC,OAAWD,KACjCE,KAAK,KAjBVN,EAAAE,KAAA,EAmBUjE,KAAKsE,SAAL,GAAAF,OAAiB3B,EAAjB,KAAA2B,OAAuBpE,KAAKmC,UAnBtC,OAoBInC,KAAKqB,MAAM,SAAS,GACpBrB,KAAKmC,QAAU,GArBnB,wBAAA4B,EAAAQ,SAAAT,EAAA9D,SAAA,yBAAAyD,EAAAe,MAAAxE,KAAAyE,YAAA,KAAAjB,IAAA,QAAAkB,IAAA,WAYI,IAAMC,EAAe3E,KAAK4E,QAAQV,IAAI,SAACW,GAAD,OAAOA,EAAEC,OAAOC,YACtD,OAAQ/E,KAAKgF,iBAAbZ,OAAArB,OAAAkC,EAAA,KAAAlC,CAAiC4B,QAbrC5B,OAAAmC,EAAA,KAAAnC,CAAAK,EAAAD,GAAAC,EAAA,CAAsC+B,EAAA,MAEpCC,EAAA,MADCrC,OAAAoC,EAAA,KAAApC,EAAMhB,UAAU,iCAGjBqD,EAAA,MADCtC,EAAOuC,MAAM,SAACC,GAAD,OAAuBA,EAAMC,YAAcD,EAAMC,YAAYX,4CAG3EQ,EAAA,MADCtC,EAAOuC,MAAM,SAACC,GAAD,OAAuBA,EAAMC,YAAcD,EAAMC,YAAYT,OAAOC,UAAY,4CAG9FK,EAAA,MADCtC,EAAO0C,OAAOvC,EAAA,KAAawC,gDAPTvC,EAAQkC,EAAA,MAD5BD,EAAA,MACoBjC,GAAA,IAAAwC,EAAA,ECtDgYC,EAAA,cCOrZC,EAAgB7C,OAAA8C,EAAA,KAAA9C,CACd4C,EACA7F,EACA+C,GACF,EACA,KACA,KACA,MAIA+C,EAAAE,QAAAC,OAAA,eACeC,EAAA,WAAAJ","file":"js/chunk-2d0bb1fc.86e82308.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-dialog',{attrs:{\"value\":_vm.value,\"full-width\":\"\",\"persistent\":\"\",\"max-width\":\"500px\",\"fullscreen\":\"\",\"lazy\":\"\",\"transition\":\"dialog-bottom-transition\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.$emit('input', false)}}},[_c('v-icon',[_vm._v(\"close\")])],1),_c('v-toolbar-title',[_vm._v(\"添加评论\")])],1),_c('v-card-text',[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"评论\",\"hint\":\"添加评论吧\",\"persistent-hint\":\"\",\"required\":\"\"},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-autocomplete',{attrs:{\"items\":_vm.users,\"label\":\"@\",\"hint\":\"@当前主题涉及用户\",\"multiple\":\"\",\"chips\":\"\"},model:{value:(_vm.at),callback:function ($$v) {_vm.at=$$v},expression:\"at\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.$emit('input', false)}}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.sendReply($event)}}},[_vm._v(\"发送\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport { namespace } from 'vuex-class';\r\nimport { TopicModule, topicActions } from '@/store/types';\r\nimport { TopicState, TopicNewReply } from '@/store/interface';\r\nimport { CNodeReply } from '@/interface';\r\nconst Module = namespace(TopicModule);\r\n\r\n@Component\r\nexport default class NewReply extends Vue {\r\n  @Prop({required: true})\r\n  private value!: boolean;\r\n  @Module.State((state: TopicState) => state.topicDetail ? state.topicDetail.replies : [])\r\n  private replies!: CNodeReply[];\r\n  @Module.State((state: TopicState) => state.topicDetail ? state.topicDetail.author.loginname : '')\r\n  private topicAuthorName!: string;\r\n  @Module.Action(topicActions.POST_NEW_REPLY)\r\n  private newReply!: TopicNewReply;\r\n  private content: string = '';\r\n  private at = [];\r\n  private get users() {\r\n    const replyAuthors = this.replies.map((v) => v.author.loginname);\r\n    return [this.topicAuthorName, ...replyAuthors];\r\n  }\r\n  private async sendReply() {\r\n    const at = this.at.map((s) => `@${s}`)\r\n    .join(' ');\r\n\r\n    await this.newReply(`${at} ${this.content}`);\r\n    this.$emit('input', false);\r\n    this.content = '';\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewReply.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewReply.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NewReply.vue?vue&type=template&id=99c33bb8&\"\nimport script from \"./NewReply.vue?vue&type=script&lang=ts&\"\nexport * from \"./NewReply.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"NewReply.vue\"\nexport default component.exports"],"sourceRoot":""}