{"version":3,"sources":["webpack:///./src/views/TopicDetail/index.vue?72ea","webpack:///./src/views/TopicDetail/index.vue?a4c1","webpack:///./src/views/TopicDetail/index.vue?2648","webpack:///./src/views/TopicDetail/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","color","app","tabs","icon","on","click","$event","$router","back","_v","topicDetail","is_collect","dark","small","absolute","bottom","right","fab","collectOrDeCollect","_e","staticClass","_s","title","slot","centered","grow","model","value","callback","$$v","selectTab","expression","_l","tab","index","key","fluid","component","tag","dialog","disabled","fixed","staticRenderFns","Detail","__webpack_require__","e","then","bind","Topic","Reply","NewReply","Module","Object","lib","types","Components","TopicDetailvue_type_script_lang_ts_TopicDetail","_Vue","TopicDetail","_this","classCallCheck","createClass","dispatchGetTopicDetail","shouldScroll","deleteTopicDetail","deleteReplyId","$route","query","reply","hash","setReplyId","slice","_dispatchGetTopicDetail","asyncToGenerator","regenerator_default","a","mark","_callee","id","wrap","_context","prev","next","params","getTopicDetail","sent","stop","apply","arguments","get","inherits","vue_property_decorator","tslib_es6","State","state","Action","GET_TOPIC_DETAIL","Mutation","DELET_TOPIC_DETAIL","COLLECT_OR_DE_COLLECT","SET_REPLY_ID","DELET_REPLY_ID","components","TopicDetailvue_type_script_lang_ts_","views_TopicDetailvue_type_script_lang_ts_","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAAA,EAAA,aAAmCE,OAAOC,MAAA,QAAAC,IAAA,GAAAC,KAAA,MAAoCL,EAAA,SAAcE,OAAOI,KAAA,IAAUC,IAAKC,MAAA,SAAAC,GAAyBb,EAAAc,QAAAC,WAAqBX,EAAA,UAAAJ,EAAAgB,GAAA,oBAAAhB,EAAA,YAAAI,EAAA,SAAwEE,OAAOC,MAAAP,EAAAiB,YAAAC,WAAA,eAAAC,KAAA,GAAAC,MAAA,GAAAC,SAAA,GAAAC,OAAA,GAAAC,MAAA,GAAAC,IAAA,IAAyHb,IAAKC,MAAAZ,EAAAyB,sBAAgCrB,EAAA,UAAAJ,EAAAgB,GAAA,kBAAAhB,EAAA0B,KAAAtB,EAAA,mBAAuEuB,YAAA,gBAA0B3B,EAAAgB,GAAAhB,EAAA4B,GAAA5B,EAAAiB,YAAAjB,EAAAiB,YAAAY,MAAA,aAAAzB,EAAA,UAAoFE,OAAOwB,KAAA,YAAAC,SAAA,GAAAC,KAAA,IAA2CF,KAAA,YAAAG,OAAyBC,MAAAlC,EAAA,UAAAmC,SAAA,SAAAC,GAA+CpC,EAAAqC,UAAAD,GAAkBE,WAAA,cAAyBtC,EAAAuC,GAAAvC,EAAA,cAAAwC,EAAAC,GAAuC,OAAArC,EAAA,SAAmBsC,IAAAD,IAAUzC,EAAAgB,GAAAhB,EAAA4B,GAAAY,UAAwB,GAAApC,EAAA,aAAAA,EAAA,eAAyCE,OAAOqC,MAAA,MAAYvC,EAAA,cAAAA,EAAAJ,EAAA4C,WAAqCC,IAAA,eAAgB,GAAAzC,EAAA,YAAqB6B,OAAOC,MAAAlC,EAAA,OAAAmC,SAAA,SAAAC,GAA4CpC,EAAA8C,OAAAV,GAAeE,WAAA,YAAsBlC,EAAA,SAAcE,OAAOyC,UAAA/C,EAAAiB,YAAAV,MAAA,QAAAY,KAAA,GAAA6B,MAAA,GAAA1B,OAAA,GAAAC,MAAA,GAAAC,IAAA,IAAiGb,IAAKC,MAAA,SAAAC,GAAyBb,EAAA8C,QAAA,MAAoB1C,EAAA,UAAAJ,EAAAgB,GAAA,0BAClyCiC,kJC0DMC,EAAS,kBAAMC,EAAAC,EAAA,kBAAAC,KAAAF,EAAAG,KAAA,eACfC,EAAQ,kBAAMJ,EAAAC,EAAA,kBAAAC,KAAAF,EAAAG,KAAA,eACdE,EAAQ,kBAAML,EAAAC,EAAA,kBAAAC,KAAAF,EAAAG,KAAA,eACdG,EAAW,kBAAMN,EAAAC,EAAA,kBAAAC,KAAAF,EAAAG,KAAA,eACjBI,EAASC,OAAAC,EAAA,KAAAD,CAAUE,EAAA,MACnBC,GAAcZ,EAAQK,EAAOC,GAOnCO,EAAA,SAAAC,GALA,SAAAC,IAAA,IAAAC,EAAA,OAAAP,OAAAQ,EAAA,KAAAR,CAAA1D,KAAAgE,kEAmBUC,EAAAzD,MAAkB,KAAM,KAAM,MAC9ByD,EAAA7B,UAAoB,EACpB6B,EAAApB,QAAkB,EArB5BoB,EAKA,OAAAP,OAAAS,EAAA,KAAAT,CAAAM,IAAAvB,IAAA,UAAAR,MAAA,WAsBIjC,KAAKoE,yBACLpE,KAAKqE,kBAvBT5B,IAAA,YAAAR,MAAA,WA0BIjC,KAAKoE,yBACLpE,KAAKqE,kBA3BT5B,IAAA,cAAAR,MAAA,WA8BIjC,KAAKsE,oBACLtE,KAAKoC,UAAY,EACjBpC,KAAKuE,mBAhCT9B,IAAA,eAAAR,MAAA,WAmCoC,OAA5BjC,KAAKwE,OAAOC,MAAMC,QACpB1E,KAAKoC,UAAY,GAEfpC,KAAKwE,OAAOG,MAMd3E,KAAK4E,WAAW5E,KAAKwE,OAAOG,KAAKE,MAAM,OA5C7CpC,IAAA,yBAAAR,MAAA,eAAA6C,EAAApB,OAAAqB,EAAA,KAAArB,CAAAsB,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAgDYJ,EAAOpF,KAAKwE,OAAOiB,OAAnBL,GAhDZE,EAAAE,KAAA,EAiDuBxF,KAAK0F,eAAeN,GAjD3C,OAAAE,EAAAK,KAAA,wBAAAL,EAAAM,SAAAT,EAAAnF,SAAA,yBAAA8E,EAAAe,MAAA7F,KAAA8F,YAAA,KAAArD,IAAA,YAAAsD,IAAA,WAmBI,OAAOlC,EAAW7D,KAAKoC,eAnB3BsB,OAAAsC,EAAA,KAAAtC,CAAAM,EAAAD,GAAAC,EAAA,CAAyCiC,EAAA,MAEvCC,EAAA,MADCzC,EAAO0C,MAAM,SAACC,GAAD,OAAuBA,EAAMpF,iDAG3CkF,EAAA,MADCzC,EAAO4C,OAAOzC,EAAA,KAAa0C,wDAG5BJ,EAAA,MADCzC,EAAO8C,SAAS3C,EAAA,KAAe4C,6DAGhCN,EAAA,MADCzC,EAAO4C,OAAOzC,EAAA,KAAa6C,iEAG5BP,EAAA,MADCzC,EAAO8C,SAAS3C,EAAA,KAAe8C,gDAGhCR,EAAA,MADCzC,EAAO8C,SAAS3C,EAAA,KAAe+C,qDAXb7C,EAAWoC,EAAA,MAL/BxC,OAAAuC,EAAA,KAAAvC,EACCkD,YACEpD,eAGiBM,GAAA,IAAA+C,EAAA,ECvE6XC,EAAA,cCOlZnE,EAAgBe,OAAAqD,EAAA,KAAArD,CACdoD,EACAhH,EACAkD,GACF,EACA,KACA,KACA,MAIAL,EAAAqE,QAAAC,OAAA,YACeC,EAAA,WAAAvE","file":"js/chunk-2d0e24b2.ce4a6c91.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-toolbar',{attrs:{\"color\":\"white\",\"app\":\"\",\"tabs\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.$router.back()}}},[_c('v-icon',[_vm._v(\"arrow_back\")])],1),(_vm.topicDetail)?_c('v-btn',{attrs:{\"color\":_vm.topicDetail.is_collect ? 'pink' : 'black',\"dark\":\"\",\"small\":\"\",\"absolute\":\"\",\"bottom\":\"\",\"right\":\"\",\"fab\":\"\"},on:{\"click\":_vm.collectOrDeCollect}},[_c('v-icon',[_vm._v(\"favorite\")])],1):_vm._e(),_c('v-toolbar-title',{staticClass:\"black--text\"},[_vm._v(_vm._s(_vm.topicDetail ? _vm.topicDetail.title : '加载中...'))]),_c('v-tabs',{attrs:{\"slot\":\"extension\",\"centered\":\"\",\"grow\":\"\"},slot:\"extension\",model:{value:(_vm.selectTab),callback:function ($$v) {_vm.selectTab=$$v},expression:\"selectTab\"}},_vm._l((_vm.tabs),function(tab,index){return _c('v-tab',{key:index},[_vm._v(_vm._s(tab))])}))],1),_c('v-content',[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('keep-alive',[_c(_vm.component,{tag:\"component\"})],1),_c('NewReply',{model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}}),_c('v-btn',{attrs:{\"disabled\":!_vm.topicDetail,\"color\":\"green\",\"dark\":\"\",\"fixed\":\"\",\"bottom\":\"\",\"right\":\"\",\"fab\":\"\"},on:{\"click\":function($event){_vm.dialog = true}}},[_c('v-icon',[_vm._v(\"add\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Watch } from 'vue-property-decorator';\r\nimport { CNodeTopicDetail } from '@/interface';\r\nimport { topicActions, topicMutations, TopicModule } from '@/store/types';\r\nimport { namespace } from 'vuex-class';\r\nimport {\r\n  TopicState,\r\n  TopicGetTopicDetail,\r\n  TopicCollectOrDeCollect,\r\n  TopicSetReplyId,\r\n  TopicDeleteReplyId,\r\n} from '@/store/interface';\r\nimport { Log } from '@/utils';\r\n\r\nconst Detail = () => import('./Detail.vue');\r\nconst Topic = () => import('./Topic.vue');\r\nconst Reply = () => import('./Reply.vue');\r\nconst NewReply = () => import('./NewReply.vue');\r\nconst Module = namespace(TopicModule);\r\nconst Components = [Detail, Topic, Reply];\r\n\r\n@Component({\r\n  components: {\r\n    NewReply,\r\n  },\r\n})\r\nexport default class TopicDetail extends Vue {\r\n  @Module.State((state: TopicState) => state.topicDetail)\r\n  private topicDetail!: CNodeTopicDetail;\r\n  @Module.Action(topicActions.GET_TOPIC_DETAIL)\r\n  private getTopicDetail!: TopicGetTopicDetail;\r\n  @Module.Mutation(topicMutations.DELET_TOPIC_DETAIL)\r\n  private deleteTopicDetail!: () => void;\r\n  @Module.Action(topicActions.COLLECT_OR_DE_COLLECT)\r\n  private collectOrDeCollect!: TopicCollectOrDeCollect;\r\n  @Module.Mutation(topicMutations.SET_REPLY_ID)\r\n  private setReplyId!: TopicSetReplyId;\r\n  @Module.Mutation(topicMutations.DELET_REPLY_ID)\r\n  private deleteReplyId!: TopicDeleteReplyId;\r\n\r\n  private tabs: string[] = ['详情', '正文', '评论'];\r\n  private selectTab: number = 1;\r\n  private dialog: boolean = false;\r\n\r\n  private get component() {\r\n    return Components[this.selectTab];\r\n  }\r\n  private created() {\r\n    this.dispatchGetTopicDetail();\r\n    this.shouldScroll();\r\n  }\r\n  private activated() {\r\n    this.dispatchGetTopicDetail();\r\n    this.shouldScroll();\r\n  }\r\n  private deactivated() {\r\n    this.deleteTopicDetail();\r\n    this.selectTab = 1;\r\n    this.deleteReplyId();\r\n  }\r\n  private shouldScroll() {\r\n    if (this.$route.query.reply === null) {\r\n      this.selectTab = 2;\r\n    }\r\n    if (this.$route.hash) {\r\n      // setTimeout(() => {\r\n      //   const el = document.getElementById(this.$route.hash.slice(1))!;\r\n      //   Log.log(el);\r\n      //   el.scrollIntoView();\r\n      // }, 30);\r\n      this.setReplyId(this.$route.hash.slice(1));\r\n    }\r\n  }\r\n  private async dispatchGetTopicDetail() {\r\n    const { id } = this.$route.params;\r\n    const isOk = await this.getTopicDetail(id);\r\n    // TODO 错误提示\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=23e7b32b&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports"],"sourceRoot":""}